<!DOCTYPE html>
<html>
<body>
<h1>TESTE DE MICROFONE</h1>
<p id="status">Clique para ativar…</p>

<script>
let started = false;

window.addEventListener("click", async () => {
    if (started) return;
    started = true;

    document.getElementById("status").innerHTML = "Pedindo permissão…";

    try {
        await navigator.mediaDevices.getUserMedia({ audio: true });
        document.getElementById("status").innerHTML = "Microfone FUNCIONANDO ✔";
    } catch (e) {
        document.getElementById("status").innerHTML =
            "❌ Permissão negada ou bloqueada: " + e.name;
    }
});
</script>

</body>
</html>
